import{b as _r,f as br,s as ir,P as Ir,l as Mr}from"./index-fTqu791Z.js";import{c as xr,f as Or}from"./specRenderer-IjoYWasr.js";import{d as A,c as m,a7 as bt,ae as Lr,m as he,f as Te,i as g,q as y,n as b,z as E,v as M,j as L,E as G,t as I,k as Z,x as fe,s as ue,B,_ as sr,al as We,am as Be,a as De,Q as Ar,r as Yr,o as kr,b as Ur,V as Hr,w as zr,W as $r,X as Pr,F as It,A as Fr,p as Vr,S as Q,U as X}from"./vue-6PFCaG3D.js";var qr=Object.defineProperty,Gr=(e,t,r)=>t in e?qr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,H=(e,t,r)=>(Gr(e,typeof t!="symbol"?t+"":t,r),r),v=(e=>(e.MINUTELY="Minutely",e.HOURLY="Hourly",e.DAILY="Daily",e.WEEKLY="Weekly",e))(v||{}),N=(e=>(e.FIFTEEN_MIN="15m",e.ONE_HOUR="1h",e.SIX_HOUR="6h",e.TWELVE_HOUR="12h",e.ONE_DAY="24h",e.SEVEN_DAY="7d",e.THIRTY_DAY="30d",e.CURRENT_WEEK="current_week",e.CURRENT_MONTH="current_month",e.CURRENT_QUARTER="current_quarter",e.PREVIOUS_WEEK="previous_week",e.PREVIOUS_MONTH="previous_month",e.PREVIOUS_QUARTER="previous_quarter",e))(N||{});function Ne(e){"@babel/helpers - typeof";return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ne(e)}function P(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Y(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ae(e){Y(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ne(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ke(e,t){Y(2,arguments);var r=ae(e),a=P(t);return isNaN(a)?new Date(NaN):(a&&r.setDate(r.getDate()+a),r)}function Zr(e,t){Y(2,arguments);var r=ae(e),a=P(t);if(isNaN(a))return new Date(NaN);if(!a)return r;var i=r.getDate(),n=new Date(r.getTime());n.setMonth(r.getMonth()+a+1,0);var s=n.getDate();return i>=s?n:(r.setFullYear(n.getFullYear(),n.getMonth(),i),r)}var jr={};function Wr(){return jr}function Se(e,t){var r,a,i,n,s,u,d,o;Y(1,arguments);var l=Wr(),c=P((r=(a=(i=(n=t==null?void 0:t.weekStartsOn)!==null&&n!==void 0?n:t==null||(s=t.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:l.weekStartsOn)!==null&&a!==void 0?a:(d=l.locale)===null||d===void 0||(o=d.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ae(e),p=f.getDay(),w=(p<c?7:0)+p-c;return f.setDate(f.getDate()-w),f.setHours(0,0,0,0),f}function Mt(e){Y(1,arguments);var t=ae(e);return t.setHours(0,0,0,0),t}var Br=60,Kr=3600;function de(e){Y(1,arguments);var t=ae(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Qr(e){Y(1,arguments);var t=ae(e),r=t.getFullYear(),a=t.getMonth(),i=new Date(0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function Qe(e){Y(1,arguments);var t=ae(e),r=t.getTime();return r}function xt(e){return Y(1,arguments),Math.floor(Qe(e)/1e3)}function Xr(e){return Y(1,arguments),Math.floor(e*Kr)}function Jr(e,t){Y(2,arguments);var r=P(t);return Ke(e,-r)}function ea(e){Y(1,arguments);var t=e/Br;return Math.floor(t)}function gt(e,t){Y(2,arguments);var r=P(t);return Zr(e,-r)}function ta(e,t){if(Y(2,arguments),!t||Ne(t)!=="object")return new Date(NaN);var r=t.years?P(t.years):0,a=t.months?P(t.months):0,i=t.weeks?P(t.weeks):0,n=t.days?P(t.days):0,s=t.hours?P(t.hours):0,u=t.minutes?P(t.minutes):0,d=t.seconds?P(t.seconds):0,o=gt(e,a+r*12),l=Jr(o,n+i*7),c=u+s*60,f=d+c*60,p=f*1e3,w=new Date(l.getTime()-p);return w}function vt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var or={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(or);var ra=or.exports,Xe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a){if(a===null||a===!0||a===!1)return NaN;var i=Number(a);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}e.exports=t.default})(Xe,Xe.exports);var aa=Xe.exports;const na=vt(aa);var Je={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a){var i=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return i.setUTCFullYear(a.getFullYear()),a.getTime()-i.getTime()}e.exports=t.default})(Je,Je.exports);var ia=Je.exports;const Ot=vt(ia);function sa(e,t){var r=da(t);return r.formatToParts?ua(r,e):la(r,e)}var oa={year:0,month:1,day:2,hour:3,minute:4,second:5};function ua(e,t){try{for(var r=e.formatToParts(t),a=[],i=0;i<r.length;i++){var n=oa[r[i].type];n>=0&&(a[n]=parseInt(r[i].value,10))}return a}catch(s){if(s instanceof RangeError)return[NaN];throw s}}function la(e,t){var r=e.format(t).replace(/\u200E/g,""),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[a[3],a[1],a[2],a[4],a[5],a[6]]}var Le={};function da(e){if(!Le[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Le[e]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Le[e]}function ht(e,t,r,a,i,n,s){var u=new Date(0);return u.setUTCFullYear(e,t,r),u.setUTCHours(a,i,n,s),u}var Lt=36e5,ca=6e4,Ae={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function _e(e,t,r){var a,i;if(!e||(a=Ae.timezoneZ.exec(e),a))return 0;var n;if(a=Ae.timezoneHH.exec(e),a)return n=parseInt(a[1],10),At(n)?-(n*Lt):NaN;if(a=Ae.timezoneHHMM.exec(e),a){n=parseInt(a[1],10);var s=parseInt(a[2],10);return At(n,s)?(i=Math.abs(n)*Lt+s*ca,n>0?-i:i):NaN}if(ma(e)){t=new Date(t||Date.now());var u=r?t:fa(t),d=et(u,e),o=r?d:pa(t,d,e);return-o}return NaN}function fa(e){return ht(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function et(e,t){var r=sa(e,t),a=ht(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),i=e.getTime(),n=i%1e3;return i-=n>=0?n:1e3+n,a-i}function pa(e,t,r){var a=e.getTime(),i=a-t,n=et(new Date(i),r);if(t===n)return t;i-=n-t;var s=et(new Date(i),r);return n===s?n:Math.max(n,s)}function At(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Yt={};function ma(e){if(Yt[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Yt[e]=!0,!0}catch{return!1}}var ga=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const ur=ga;var Ye=36e5,kt=6e4,va=2,x={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:ur};function tt(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var r=t||{},a=r.additionalDigits==null?va:na(r.additionalDigits);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=ha(e),n=ya(i.date,a),s=n.year,u=n.restDateString,d=wa(u,s);if(isNaN(d))return new Date(NaN);if(d){var o=d.getTime(),l=0,c;if(i.time&&(l=Ta(i.time),isNaN(l)))return new Date(NaN);if(i.timeZone||r.timeZone){if(c=_e(i.timeZone||r.timeZone,new Date(o+l)),isNaN(c))return new Date(NaN)}else c=Ot(new Date(o+l)),c=Ot(new Date(o+l+c));return new Date(o+l+c)}else return new Date(NaN)}function ha(e){var t={},r=x.dateTimePattern.exec(e),a;if(r?(t.date=r[1],a=r[3]):(r=x.datePattern.exec(e),r?(t.date=r[1],a=r[2]):(t.date=null,a=e)),a){var i=x.timeZone.exec(a);i?(t.time=a.replace(i[1],""),t.timeZone=i[1].trim()):t.time=a}return t}function ya(e,t){var r=x.YYY[t],a=x.YYYYY[t],i;if(i=x.YYYY.exec(e)||a.exec(e),i){var n=i[1];return{year:parseInt(n,10),restDateString:e.slice(n.length)}}if(i=x.YY.exec(e)||r.exec(e),i){var s=i[1];return{year:parseInt(s,10)*100,restDateString:e.slice(s.length)}}return{year:null}}function wa(e,t){if(t===null)return null;var r,a,i,n;if(e.length===0)return a=new Date(0),a.setUTCFullYear(t),a;if(r=x.MM.exec(e),r)return a=new Date(0),i=parseInt(r[1],10)-1,Ht(t,i)?(a.setUTCFullYear(t,i),a):new Date(NaN);if(r=x.DDD.exec(e),r){a=new Date(0);var s=parseInt(r[1],10);return Sa(t,s)?(a.setUTCFullYear(t,0,s),a):new Date(NaN)}if(r=x.MMDD.exec(e),r){a=new Date(0),i=parseInt(r[1],10)-1;var u=parseInt(r[2],10);return Ht(t,i,u)?(a.setUTCFullYear(t,i,u),a):new Date(NaN)}if(r=x.Www.exec(e),r)return n=parseInt(r[1],10)-1,zt(t,n)?Ut(t,n):new Date(NaN);if(r=x.WwwD.exec(e),r){n=parseInt(r[1],10)-1;var d=parseInt(r[2],10)-1;return zt(t,n,d)?Ut(t,n,d):new Date(NaN)}return null}function Ta(e){var t,r,a;if(t=x.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),ke(r)?r%24*Ye:NaN;if(t=x.HHMM.exec(e),t)return r=parseInt(t[1],10),a=parseFloat(t[2].replace(",",".")),ke(r,a)?r%24*Ye+a*kt:NaN;if(t=x.HHMMSS.exec(e),t){r=parseInt(t[1],10),a=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return ke(r,a,i)?r%24*Ye+a*kt+i*1e3:NaN}return null}function Ut(e,t,r){t=t||0,r=r||0;var a=new Date(0);a.setUTCFullYear(e,0,4);var i=a.getUTCDay()||7,n=t*7+r+1-i;return a.setUTCDate(a.getUTCDate()+n),a}var Da=[31,28,31,30,31,30,31,31,30,31,30,31],Na=[31,29,31,30,31,30,31,31,30,31,30,31];function lr(e){return e%400===0||e%4===0&&e%100!==0}function Ht(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;var a=lr(e);if(a&&r>Na[t]||!a&&r>Da[t])return!1}return!0}function Sa(e,t){if(t<1)return!1;var r=lr(e);return!(r&&t>366||!r&&t>365)}function zt(e,t,r){return!(t<0||t>52||r!=null&&(r<0||r>6))}function ke(e,t,r){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}var rt={exports:{}},at={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a,i){if(a==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n]);return a}e.exports=t.default})(at,at.exports);var Ea=at.exports;(function(e,t){var r=ra.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(Ea);function i(n){return(0,a.default)({},n)}e.exports=t.default})(rt,rt.exports);var Ra=rt.exports;const Ca=vt(Ra);function _a(e,t,r){var a=tt(e,r),i=_e(t,a,!0),n=new Date(a.getTime()-i),s=new Date(0);return s.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),s.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),s}function dr(e,t){return-_e(e,t)}function ba(e,t,r){if(typeof e=="string"&&!e.match(ur)){var a=Ca(r);return a.timeZone=t,tt(e,a)}var i=tt(e,r),n=ht(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),s=_e(t,new Date(n));return new Date(n+s)}const nt={[v.MINUTELY]:60*1e3,[v.HOURLY]:60*60*1e3,[v.DAILY]:60*60*24*1e3,[v.WEEKLY]:60*60*24*7*1e3};function Ia(e,t){return e?{duration:e,type:"duration",origin:t}:null}function cr(e,t,r,a){const i=nt[r];let n=0;return i>=nt[v.DAILY]&&(a?n=-dr(a,t):n=t.getTimezoneOffset()*60*1e3),new Date(e((t.getTime()-n)/i)*i+n)}function $t(e,t,r){return cr(Math.floor,e,t,r)}function Ma(e,t,r){return cr(Math.ceil,e,t,r)}let xa=class fr{constructor(t,r){if(H(this,"timeframe"),H(this,"tz"),this.constructor===fr)throw new Error("BaseQueryTime is not meant to be used directly.");this.timeframe=t,this.tz=r}calculateStartDate(t,r,a=1){if(t)return new Date(this.endDate().getTime()-this.timeframe.timeframeLengthMs()*a);{const i=this.endDate(),n=this.timeframe.rawStart(this.tz),s=$t(n,r,this.tz),u=(i.getTime()-s.getTime())*(a-1);return $t(new Date(n.getTime()-u),r,this.tz)}}granularitySeconds(){return Math.floor(this.granularityMs()/1e3)}granularityDruid(){return Ia(this.granularityMs(),this.startDate().toISOString())}startSeconds(){return xt(this.startDate())}endSeconds(){return xt(this.endDate())}startMs(){return Qe(this.startDate())}endMs(){return Qe(this.endDate())}withinFreeTier(){return this.startDate()>=ta(new Date,{days:1})}};class xs extends xa{constructor(t,r,a){super(t,a),H(this,"granularity"),r&&t.allowedGranularities().has(r)?this.granularity=r:this.granularity=t.defaultResponseGranularity}startDate(){return this.calculateStartDate(this.timeframe.isRelative,this.granularity)}endDate(){return Ma(this.timeframe.rawEnd(),this.granularity,this.tz)}granularityMs(){return nt[this.granularity]}}const pe=(e,t)=>new Date(e.getTime()-dr(t,e));let F=class{constructor(t){H(this,"timeframeText"),H(this,"key"),H(this,"display"),H(this,"timeframeLength"),H(this,"allowedTiers"),H(this,"defaultResponseGranularity"),H(this,"dataGranularity"),H(this,"isRelative"),H(this,"_startCustom"),H(this,"_endCustom"),this.display=t.display,this.timeframeText=t.timeframeText,this.key=t.key,this.timeframeLength=t.timeframeLength,this.allowedTiers=t.allowedTiers,this.defaultResponseGranularity=t.defaultResponseGranularity,this.dataGranularity=t.dataGranularity,this.isRelative=t.isRelative,this._startCustom=t.startCustom,this._endCustom=t.endCustom}rawEnd(t){return this._endCustom||new Date}rawStart(t){return this._startCustom||new Date(this.rawEnd().getTime()-this.timeframeLengthMs())}timeframeLengthMs(){return this.timeframeLength()*1e3}maximumTimeframeLength(){return this.timeframeLength()}allowedGranularities(){const t=new Set,r=this.maximumTimeframeLength()/3600;return r<=6&&t.add(v.MINUTELY),r>=2&&r<=7*24&&t.add(v.HOURLY),r>=2*24&&t.add(v.DAILY),r>=2*24*14&&t.add(v.WEEKLY),t}tzAdjustedDate(t){if(!t)return new Date;const r=ba(new Date,new Intl.DateTimeFormat().resolvedOptions().timeZone);return _a(r,t)}},Oa=class extends F{rawStart(t){let r=Se(this.tzAdjustedDate(t),{weekStartsOn:1});return t&&(r=pe(r,t)),r}maximumTimeframeLength(){return 60*60*24*7}},La=class extends F{rawStart(t){let r=de(this.tzAdjustedDate(t));return t&&(r=pe(r,t)),r}maximumTimeframeLength(){return 60*60*24*31}},Aa=class extends F{rawEnd(t){let r=Se(this.tzAdjustedDate(t),{weekStartsOn:1});return t&&(r=pe(r,t)),r}rawStart(t){const r=this.tzAdjustedDate(t);let a=Se(r.setDate(r.getDate()-7),{weekStartsOn:1});return t&&(a=pe(a,t)),a}},Ya=class extends F{rawEnd(t){let r=de(this.tzAdjustedDate(t));return t&&(r=pe(r,t)),r}rawStart(t){let r=de(gt(this.tzAdjustedDate(t),1));return t&&(r=pe(r,t)),r}};const ka=new Map([[N.FIFTEEN_MIN,new F({key:N.FIFTEEN_MIN,display:"Last 15 minutes",timeframeText:"15 minutes",timeframeLength:()=>60*15,defaultResponseGranularity:v.MINUTELY,dataGranularity:v.MINUTELY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[N.ONE_HOUR,new F({key:N.ONE_HOUR,display:"Last hour",timeframeText:"One hour",timeframeLength:()=>60*60*1,defaultResponseGranularity:v.MINUTELY,dataGranularity:v.MINUTELY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[N.SIX_HOUR,new F({key:N.SIX_HOUR,display:"Last 6 hours",timeframeText:"6 hours",timeframeLength:()=>60*60*6,defaultResponseGranularity:v.HOURLY,dataGranularity:v.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[N.TWELVE_HOUR,new F({key:N.TWELVE_HOUR,display:"Last 12 hours",timeframeText:"12 hours",timeframeLength:()=>60*60*12,defaultResponseGranularity:v.HOURLY,dataGranularity:v.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[N.ONE_DAY,new F({key:N.ONE_DAY,display:"Last 24 hours",timeframeText:"24 hours",timeframeLength:()=>60*60*24,defaultResponseGranularity:v.HOURLY,dataGranularity:v.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[N.SEVEN_DAY,new F({key:N.SEVEN_DAY,display:"Last 7 days",timeframeText:"7 days",timeframeLength:()=>60*60*24*7,defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!0,allowedTiers:["trial","plus","enterprise"]})],[N.THIRTY_DAY,new F({key:N.THIRTY_DAY,display:"Last 30 days",timeframeText:"30 days",timeframeLength:()=>60*60*24*30,defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!0,allowedTiers:["trial","plus","enterprise"]})],[N.CURRENT_WEEK,new Oa({key:N.CURRENT_WEEK,display:"This week",timeframeText:"Week",timeframeLength:()=>{const e=Se(new Date,{weekStartsOn:1});return(Mt(Ke(new Date,1)).getTime()-e.getTime())/1e3},defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[N.CURRENT_MONTH,new La({key:N.CURRENT_MONTH,display:"This month",timeframeText:"Month",timeframeLength:()=>{const e=de(new Date);return(Mt(Ke(new Date,1)).getTime()-e.getTime())/1e3},defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[N.PREVIOUS_WEEK,new Aa({key:N.PREVIOUS_WEEK,display:"Previous week",timeframeText:"Week",timeframeLength:()=>60*60*24*7,defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[N.PREVIOUS_MONTH,new Ya({key:N.PREVIOUS_MONTH,display:"Previous month",timeframeText:"Month",timeframeLength:()=>{let e=0;const t=de(new Date),r=de(gt(new Date,1));return t.getTimezoneOffset()!==r.getTimezoneOffset()&&(e=Ua(t,r)),60*60*24*Qr(new Date().setMonth(new Date().getMonth()-1))+Xr(e)},defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})]]);function Us(e){const t=new Date(e.start),r=new Date(e.end),a=(r.getTime()-t.getTime())/1e3;return e.timePeriodsKey&&ka.get(e.timePeriodsKey)||new F({key:"custom",timeframeText:"custom",display:"custom",startCustom:t,endCustom:r,timeframeLength:()=>a,defaultResponseGranularity:v.DAILY,dataGranularity:v.DAILY,isRelative:!1,allowedTiers:["free","plus","enterprise"]})}function Hs(e){return{...e.key!=="custom"&&{timePeriodsKey:e.key},start:e.rawStart(),end:e.rawEnd()}}function zs(e){return{key:e.key,display:e.display,timeframeText:e.timeframeText,timeframeLength:()=>e.key,start:()=>e.rawStart(),end:()=>e.rawEnd()}}function Ua(e,t){return ea(e.getTimezoneOffset()-t.getTimezoneOffset())}var Ha=Object.defineProperty,za=(e,t,r)=>t in e?Ha(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z=(e,t,r)=>(za(e,typeof t!="symbol"?t+"":t,r),r),h=(e=>(e.MINUTELY="Minutely",e.HOURLY="Hourly",e.DAILY="Daily",e.WEEKLY="Weekly",e))(h||{}),T=(e=>(e.FIFTEEN_MIN="15m",e.ONE_HOUR="1h",e.SIX_HOUR="6h",e.TWELVE_HOUR="12h",e.ONE_DAY="24h",e.SEVEN_DAY="7d",e.THIRTY_DAY="30d",e.CURRENT_WEEK="current_week",e.CURRENT_MONTH="current_month",e.CURRENT_QUARTER="current_quarter",e.PREVIOUS_WEEK="previous_week",e.PREVIOUS_MONTH="previous_month",e.PREVIOUS_QUARTER="previous_quarter",e))(T||{});function Ee(e){"@babel/helpers - typeof";return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(e)}function V(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function k(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ne(e){k(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ee(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function it(e,t){k(2,arguments);var r=ne(e),a=V(t);return isNaN(a)?new Date(NaN):(a&&r.setDate(r.getDate()+a),r)}function $a(e,t){k(2,arguments);var r=ne(e),a=V(t);if(isNaN(a))return new Date(NaN);if(!a)return r;var i=r.getDate(),n=new Date(r.getTime());n.setMonth(r.getMonth()+a+1,0);var s=n.getDate();return i>=s?n:(r.setFullYear(n.getFullYear(),n.getMonth(),i),r)}var Pa={};function Fa(){return Pa}function Re(e,t){var r,a,i,n,s,u,d,o;k(1,arguments);var l=Fa(),c=V((r=(a=(i=(n=t==null?void 0:t.weekStartsOn)!==null&&n!==void 0?n:t==null||(s=t.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:l.weekStartsOn)!==null&&a!==void 0?a:(d=l.locale)===null||d===void 0||(o=d.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ne(e),p=f.getDay(),w=(p<c?7:0)+p-c;return f.setDate(f.getDate()-w),f.setHours(0,0,0,0),f}function Pt(e){k(1,arguments);var t=ne(e);return t.setHours(0,0,0,0),t}var Va=60,qa=3600;function ce(e){k(1,arguments);var t=ne(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Ga(e){k(1,arguments);var t=ne(e),r=t.getFullYear(),a=t.getMonth(),i=new Date(0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function st(e){k(1,arguments);var t=ne(e),r=t.getTime();return r}function Ft(e){return k(1,arguments),Math.floor(st(e)/1e3)}function Za(e){return k(1,arguments),Math.floor(e*qa)}function ja(e,t){k(2,arguments);var r=V(t);return it(e,-r)}function Wa(e){k(1,arguments);var t=e/Va;return Math.floor(t)}function yt(e,t){k(2,arguments);var r=V(t);return $a(e,-r)}function Ba(e,t){if(k(2,arguments),!t||Ee(t)!=="object")return new Date(NaN);var r=t.years?V(t.years):0,a=t.months?V(t.months):0,i=t.weeks?V(t.weeks):0,n=t.days?V(t.days):0,s=t.hours?V(t.hours):0,u=t.minutes?V(t.minutes):0,d=t.seconds?V(t.seconds):0,o=yt(e,a+r*12),l=ja(o,n+i*7),c=u+s*60,f=d+c*60,p=f*1e3,w=new Date(l.getTime()-p);return w}function wt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pr={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(pr);var Ka=pr.exports,ot={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a){if(a===null||a===!0||a===!1)return NaN;var i=Number(a);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}e.exports=t.default})(ot,ot.exports);var Qa=ot.exports;const Xa=wt(Qa);var ut={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a){var i=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return i.setUTCFullYear(a.getFullYear()),a.getTime()-i.getTime()}e.exports=t.default})(ut,ut.exports);var Ja=ut.exports;const Vt=wt(Ja);function en(e,t){var r=nn(t);return r.formatToParts?rn(r,e):an(r,e)}var tn={year:0,month:1,day:2,hour:3,minute:4,second:5};function rn(e,t){try{for(var r=e.formatToParts(t),a=[],i=0;i<r.length;i++){var n=tn[r[i].type];n>=0&&(a[n]=parseInt(r[i].value,10))}return a}catch(s){if(s instanceof RangeError)return[NaN];throw s}}function an(e,t){var r=e.format(t).replace(/\u200E/g,""),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[a[3],a[1],a[2],a[4],a[5],a[6]]}var Ue={};function nn(e){if(!Ue[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Ue[e]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Ue[e]}function Tt(e,t,r,a,i,n,s){var u=new Date(0);return u.setUTCFullYear(e,t,r),u.setUTCHours(a,i,n,s),u}var qt=36e5,sn=6e4,He={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function be(e,t,r){var a,i;if(!e||(a=He.timezoneZ.exec(e),a))return 0;var n;if(a=He.timezoneHH.exec(e),a)return n=parseInt(a[1],10),Gt(n)?-(n*qt):NaN;if(a=He.timezoneHHMM.exec(e),a){n=parseInt(a[1],10);var s=parseInt(a[2],10);return Gt(n,s)?(i=Math.abs(n)*qt+s*sn,n>0?-i:i):NaN}if(ln(e)){t=new Date(t||Date.now());var u=r?t:on(t),d=lt(u,e),o=r?d:un(t,d,e);return-o}return NaN}function on(e){return Tt(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function lt(e,t){var r=en(e,t),a=Tt(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),i=e.getTime(),n=i%1e3;return i-=n>=0?n:1e3+n,a-i}function un(e,t,r){var a=e.getTime(),i=a-t,n=lt(new Date(i),r);if(t===n)return t;i-=n-t;var s=lt(new Date(i),r);return n===s?n:Math.max(n,s)}function Gt(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Zt={};function ln(e){if(Zt[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Zt[e]=!0,!0}catch{return!1}}var dn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const mr=dn;var ze=36e5,jt=6e4,cn=2,O={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:mr};function dt(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var r=t||{},a=r.additionalDigits==null?cn:Xa(r.additionalDigits);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=fn(e),n=pn(i.date,a),s=n.year,u=n.restDateString,d=mn(u,s);if(isNaN(d))return new Date(NaN);if(d){var o=d.getTime(),l=0,c;if(i.time&&(l=gn(i.time),isNaN(l)))return new Date(NaN);if(i.timeZone||r.timeZone){if(c=be(i.timeZone||r.timeZone,new Date(o+l)),isNaN(c))return new Date(NaN)}else c=Vt(new Date(o+l)),c=Vt(new Date(o+l+c));return new Date(o+l+c)}else return new Date(NaN)}function fn(e){var t={},r=O.dateTimePattern.exec(e),a;if(r?(t.date=r[1],a=r[3]):(r=O.datePattern.exec(e),r?(t.date=r[1],a=r[2]):(t.date=null,a=e)),a){var i=O.timeZone.exec(a);i?(t.time=a.replace(i[1],""),t.timeZone=i[1].trim()):t.time=a}return t}function pn(e,t){var r=O.YYY[t],a=O.YYYYY[t],i;if(i=O.YYYY.exec(e)||a.exec(e),i){var n=i[1];return{year:parseInt(n,10),restDateString:e.slice(n.length)}}if(i=O.YY.exec(e)||r.exec(e),i){var s=i[1];return{year:parseInt(s,10)*100,restDateString:e.slice(s.length)}}return{year:null}}function mn(e,t){if(t===null)return null;var r,a,i,n;if(e.length===0)return a=new Date(0),a.setUTCFullYear(t),a;if(r=O.MM.exec(e),r)return a=new Date(0),i=parseInt(r[1],10)-1,Bt(t,i)?(a.setUTCFullYear(t,i),a):new Date(NaN);if(r=O.DDD.exec(e),r){a=new Date(0);var s=parseInt(r[1],10);return yn(t,s)?(a.setUTCFullYear(t,0,s),a):new Date(NaN)}if(r=O.MMDD.exec(e),r){a=new Date(0),i=parseInt(r[1],10)-1;var u=parseInt(r[2],10);return Bt(t,i,u)?(a.setUTCFullYear(t,i,u),a):new Date(NaN)}if(r=O.Www.exec(e),r)return n=parseInt(r[1],10)-1,Kt(t,n)?Wt(t,n):new Date(NaN);if(r=O.WwwD.exec(e),r){n=parseInt(r[1],10)-1;var d=parseInt(r[2],10)-1;return Kt(t,n,d)?Wt(t,n,d):new Date(NaN)}return null}function gn(e){var t,r,a;if(t=O.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),$e(r)?r%24*ze:NaN;if(t=O.HHMM.exec(e),t)return r=parseInt(t[1],10),a=parseFloat(t[2].replace(",",".")),$e(r,a)?r%24*ze+a*jt:NaN;if(t=O.HHMMSS.exec(e),t){r=parseInt(t[1],10),a=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return $e(r,a,i)?r%24*ze+a*jt+i*1e3:NaN}return null}function Wt(e,t,r){t=t||0,r=r||0;var a=new Date(0);a.setUTCFullYear(e,0,4);var i=a.getUTCDay()||7,n=t*7+r+1-i;return a.setUTCDate(a.getUTCDate()+n),a}var vn=[31,28,31,30,31,30,31,31,30,31,30,31],hn=[31,29,31,30,31,30,31,31,30,31,30,31];function gr(e){return e%400===0||e%4===0&&e%100!==0}function Bt(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;var a=gr(e);if(a&&r>hn[t]||!a&&r>vn[t])return!1}return!0}function yn(e,t){if(t<1)return!1;var r=gr(e);return!(r&&t>366||!r&&t>365)}function Kt(e,t,r){return!(t<0||t>52||r!=null&&(r<0||r>6))}function $e(e,t,r){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}var ct={exports:{}},ft={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(a,i){if(a==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n]);return a}e.exports=t.default})(ft,ft.exports);var wn=ft.exports;(function(e,t){var r=Ka.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(wn);function i(n){return(0,a.default)({},n)}e.exports=t.default})(ct,ct.exports);var Tn=ct.exports;const Dn=wt(Tn);function Nn(e,t,r){var a=dt(e,r),i=be(t,a,!0),n=new Date(a.getTime()-i),s=new Date(0);return s.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),s.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),s}function vr(e,t){return-be(e,t)}function Sn(e,t,r){if(typeof e=="string"&&!e.match(mr)){var a=Dn(r);return a.timeZone=t,dt(e,a)}var i=dt(e,r),n=Tt(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),s=be(t,new Date(n));return new Date(n+s)}const Qt={[h.MINUTELY]:60*1e3,[h.HOURLY]:60*60*1e3,[h.DAILY]:60*60*24*1e3,[h.WEEKLY]:60*60*24*7*1e3};function En(e,t){return e?{duration:e,type:"duration",origin:t}:null}function hr(e,t,r,a){const i=Qt[r];let n=0;return i>=Qt[h.DAILY]&&(a?n=-vr(a,t):n=t.getTimezoneOffset()*60*1e3),new Date(e((t.getTime()-n)/i)*i+n)}function Xt(e,t,r){return hr(Math.floor,e,t,r)}function Rn(e,t,r){return hr(Math.ceil,e,t,r)}let Cn=class yr{constructor(t,r){if(z(this,"timeframe"),z(this,"tz"),this.constructor===yr)throw new Error("BaseQueryTime is not meant to be used directly.");this.timeframe=t,this.tz=r}calculateStartDate(t,r,a=1){if(t)return new Date(this.endDate().getTime()-this.timeframe.timeframeLengthMs()*a);{const i=this.endDate(),n=this.timeframe.rawStart(this.tz),s=Xt(n,r,this.tz),u=(i.getTime()-s.getTime())*(a-1);return Xt(new Date(n.getTime()-u),r,this.tz)}}granularitySeconds(){return Math.floor(this.granularityMs()/1e3)}granularityDruid(){return En(this.granularityMs(),this.startDate().toISOString())}startSeconds(){return Ft(this.startDate())}endSeconds(){return Ft(this.endDate())}startMs(){return st(this.startDate())}endMs(){return st(this.endDate())}withinFreeTier(){return this.startDate()>=Ba(new Date,{days:1})}};class wr extends Cn{startDate(){return this.calculateStartDate(this.timeframe.isRelative,this.timeframe.dataGranularity)}endDate(){return Rn(this.timeframe.rawEnd(this.tz),this.timeframe.dataGranularity,this.tz)}granularityMs(){return this.endDate().getTime()-this.startDate().getTime()}}class _n extends wr{startDate(){return this.calculateStartDate(this.timeframe.isRelative,this.timeframe.dataGranularity,2)}granularityMs(){return this.endDate().getTime()-super.startDate().getTime()}}const me=(e,t)=>new Date(e.getTime()-vr(t,e));let q=class{constructor(e){z(this,"timeframeText"),z(this,"key"),z(this,"display"),z(this,"timeframeLength"),z(this,"allowedTiers"),z(this,"defaultResponseGranularity"),z(this,"dataGranularity"),z(this,"isRelative"),z(this,"_startCustom"),z(this,"_endCustom"),this.display=e.display,this.timeframeText=e.timeframeText,this.key=e.key,this.timeframeLength=e.timeframeLength,this.allowedTiers=e.allowedTiers,this.defaultResponseGranularity=e.defaultResponseGranularity,this.dataGranularity=e.dataGranularity,this.isRelative=e.isRelative,this._startCustom=e.startCustom,this._endCustom=e.endCustom}rawEnd(e){return this._endCustom||new Date}rawStart(e){return this._startCustom||new Date(this.rawEnd().getTime()-this.timeframeLengthMs())}timeframeLengthMs(){return this.timeframeLength()*1e3}maximumTimeframeLength(){return this.timeframeLength()}allowedGranularities(){const e=new Set,t=this.maximumTimeframeLength()/3600;return t<=6&&e.add(h.MINUTELY),t>=2&&t<=7*24&&e.add(h.HOURLY),t>=2*24&&e.add(h.DAILY),t>=2*24*14&&e.add(h.WEEKLY),e}tzAdjustedDate(e){if(!e)return new Date;const t=Sn(new Date,new Intl.DateTimeFormat().resolvedOptions().timeZone);return Nn(t,e)}};class bn extends q{rawStart(t){let r=Re(this.tzAdjustedDate(t),{weekStartsOn:1});return t&&(r=me(r,t)),r}maximumTimeframeLength(){return 60*60*24*7}}class In extends q{rawStart(t){let r=ce(this.tzAdjustedDate(t));return t&&(r=me(r,t)),r}maximumTimeframeLength(){return 60*60*24*31}}class Mn extends q{rawEnd(t){let r=Re(this.tzAdjustedDate(t),{weekStartsOn:1});return t&&(r=me(r,t)),r}rawStart(t){const r=this.tzAdjustedDate(t);let a=Re(r.setDate(r.getDate()-7),{weekStartsOn:1});return t&&(a=me(a,t)),a}}class xn extends q{rawEnd(t){let r=ce(this.tzAdjustedDate(t));return t&&(r=me(r,t)),r}rawStart(t){let r=ce(yt(this.tzAdjustedDate(t),1));return t&&(r=me(r,t)),r}}const Pe=new Map([[T.FIFTEEN_MIN,new q({key:T.FIFTEEN_MIN,display:"Last 15 minutes",timeframeText:"15 minutes",timeframeLength:()=>60*15,defaultResponseGranularity:h.MINUTELY,dataGranularity:h.MINUTELY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[T.ONE_HOUR,new q({key:T.ONE_HOUR,display:"Last hour",timeframeText:"One hour",timeframeLength:()=>60*60*1,defaultResponseGranularity:h.MINUTELY,dataGranularity:h.MINUTELY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[T.SIX_HOUR,new q({key:T.SIX_HOUR,display:"Last 6 hours",timeframeText:"6 hours",timeframeLength:()=>60*60*6,defaultResponseGranularity:h.HOURLY,dataGranularity:h.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[T.TWELVE_HOUR,new q({key:T.TWELVE_HOUR,display:"Last 12 hours",timeframeText:"12 hours",timeframeLength:()=>60*60*12,defaultResponseGranularity:h.HOURLY,dataGranularity:h.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[T.ONE_DAY,new q({key:T.ONE_DAY,display:"Last 24 hours",timeframeText:"24 hours",timeframeLength:()=>60*60*24,defaultResponseGranularity:h.HOURLY,dataGranularity:h.HOURLY,isRelative:!0,allowedTiers:["free","trial","plus","enterprise"]})],[T.SEVEN_DAY,new q({key:T.SEVEN_DAY,display:"Last 7 days",timeframeText:"7 days",timeframeLength:()=>60*60*24*7,defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!0,allowedTiers:["trial","plus","enterprise"]})],[T.THIRTY_DAY,new q({key:T.THIRTY_DAY,display:"Last 30 days",timeframeText:"30 days",timeframeLength:()=>60*60*24*30,defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!0,allowedTiers:["trial","plus","enterprise"]})],[T.CURRENT_WEEK,new bn({key:T.CURRENT_WEEK,display:"This week",timeframeText:"Week",timeframeLength:()=>{const e=Re(new Date,{weekStartsOn:1});return(Pt(it(new Date,1)).getTime()-e.getTime())/1e3},defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[T.CURRENT_MONTH,new In({key:T.CURRENT_MONTH,display:"This month",timeframeText:"Month",timeframeLength:()=>{const e=ce(new Date);return(Pt(it(new Date,1)).getTime()-e.getTime())/1e3},defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[T.PREVIOUS_WEEK,new Mn({key:T.PREVIOUS_WEEK,display:"Previous week",timeframeText:"Week",timeframeLength:()=>60*60*24*7,defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})],[T.PREVIOUS_MONTH,new xn({key:T.PREVIOUS_MONTH,display:"Previous month",timeframeText:"Month",timeframeLength:()=>{let e=0;const t=ce(new Date),r=ce(yt(new Date,1));return t.getTimezoneOffset()!==r.getTimezoneOffset()&&(e=On(t,r)),60*60*24*Ga(new Date().setMonth(new Date().getMonth()-1))+Za(e)},defaultResponseGranularity:h.DAILY,dataGranularity:h.DAILY,isRelative:!1,allowedTiers:["plus","enterprise"]})]]);function On(e,t){return Wa(e.getTimezoneOffset()-t.getTimezoneOffset())}const Ln={notAvailable:"N/A"},An={short:{traffic:"Requests",errorRate:"Error Rate",latency:"P99 Latency"},long:{traffic:"Number of Requests",errorRate:"Average Error Rate",latency:"P99 Latency"}},Yn={custom:"vs previous {numDays} days","15m":"vs previous 15 minutes","1h":"vs previous hour","6h":"vs previous 6 hours","12h":"vs previous 12 hours","24h":"vs previous 24 hours","7d":"vs previous 7 days","30d":"vs previous 30 days",current_week:"vs previous week",current_month:"vs previous month",current_quarter:"vs previous quarter",previous_week:"vs previous time period",previous_month:"vs previous time period",previous_quarter:"vs previous quarter"},kn={general:Ln,metricCard:An,trendRange:Yn};function Un(){const e=xr("en-us",kn);return{i18n:e,i18nT:Or(e)}}var ye=(e=>(e.API_PRODUCT="API_PRODUCT",e.API_PRODUCT_VERSION="API_PRODUCT_VERSION",e.RUNTIME_GROUP="RUNTIME_GROUP",e.GATEWAY_INSTANCE_ID="GATEWAY_INSTANCE_ID",e.GATEWAY_SERVICE="GATEWAY_SERVICE",e.ROUTE="ROUTE",e.APPLICATION="APPLICATION",e.STATUS_CODE="STATUS_CODE",e.STATUS_CODE_GROUPED="STATUS_CODE_GROUPED",e.TIME="TIME",e.ORGANIZATION="ORGANIZATION",e))(ye||{}),pt=(e=>(e.REQUEST_COUNT="REQUEST_COUNT",e.REQUEST_PER_MINUTE="REQUEST_PER_MINUTE",e.RESPONSE_LATENCY_P99="RESPONSE_LATENCY_P99",e.RESPONSE_LATENCY_P95="RESPONSE_LATENCY_P95",e.RESPONSE_LATENCY_P50="RESPONSE_LATENCY_P50",e.RESPONSE_SIZE_P99="RESPONSE_SIZE_P99",e.RESPONSE_SIZE_P95="RESPONSE_SIZE_P95",e.RESPONSE_SIZE_P50="RESPONSE_SIZE_P50",e.REQUEST_SIZE_P99="REQUEST_SIZE_P99",e.REQUEST_SIZE_P95="REQUEST_SIZE_P95",e.REQUEST_SIZE_P50="REQUEST_SIZE_P50",e))(pt||{}),Tr=(e=>(e.IN="IN",e.NOT_IN="NOT_IN",e))(Tr||{});const Hn=2,Fe=["1XX","2XX","3XX","4XX","5XX"],Jt=["4XX","5XX"];var Dr=(e=>(e.VALIDATING="VALIDATING",e.VALIDATING_HAS_DATA="VALIDATING_HAS_DATA",e.PENDING="PENDING",e.SUCCESS="SUCCESS",e.SUCCESS_HAS_DATA="SUCCESS_HAS_DATA",e.ERROR="ERROR",e.STALE_IF_ERROR="STALE_IF_ERROR",e))(Dr||{});const zn=e=>{var t,r,a,i,n;return e?!!((t=Object.keys(e))!=null&&t.length||(r=e.data)!=null&&r.length||(i=(a=e.data)==null?void 0:a.data)!=null&&i.length||!((n=e.data)!=null&&n.data)&&typeof e.data=="object"&&Object.keys(e==null?void 0:e.data).length):!1};function $n(e=De({}),t,r,a=zn){const i=De("PENDING");return Ar(()=>{const n=a(e.value);if(e.value&&n&&r.value){i.value="VALIDATING_HAS_DATA";return}if(e.value&&r.value){i.value="VALIDATING";return}if(e.value&&t.value){i.value="STALE_IF_ERROR";return}if(e.value===void 0&&!t.value){i.value="PENDING";return}if(e.value&&!t.value&&n){i.value="SUCCESS_HAS_DATA";return}if(e.value&&!t.value){i.value="SUCCESS";return}e.value===void 0&&t&&(i.value="ERROR")}),{state:i,swrvState:Dr}}const K=Symbol("default"),Ve=ye.STATUS_CODE_GROUPED,er=(e,t,r,a,i)=>{e[t][r]||(e[t][r]={}),e[t][r][a]=i};function Pn(e,t,r){var a;const i=((a=e.meta.metricNames)==null?void 0:a[0])||"",n=Object.keys(e.meta.dimensions||{}),s=!!n.find(d=>d===Ve),u=n.find(d=>d!==Ve);return n.length>2||n.length>1&&!s?(console.error("Don't know how to work with provided dimensions:",n),{previous:{[K]:{[K]:0}},current:{[K]:{[K]:0}}}):e.records.reduce((d,o)=>{const l=o.event[i],c=u?o.event[u]:K,f=s?o.event[Ve]:K;return new Date(o.timestamp).getTime()===t.startDate().getTime()&&r?er(d,"previous",c,f,l):er(d,"current",c,f,l),d},{previous:{},current:{}})}function Fn(e){e.queryReady===void 0&&(e.queryReady=m(()=>!0));const t=m(()=>e.withTrend?new _n(e.timeframe.value):new wr(e.timeframe.value)),r=m(()=>{var c,f;return{metrics:e.metrics,dimensions:[...(c=e.dimensions)!=null&&c.length?[...e.dimensions]:[],...e.withTrend?[ye.TIME]:[]],granularityMs:t.value.granularityMs(),...(f=e.filter.value)!=null&&f.length?{filter:e.filter.value}:{}}}),a=m(()=>`${t.value.endDate().toString()}-${t.value.startDate().toString()}`),i=m(()=>{var c,f,p,w;if(!((c=e.queryReady)!=null&&c.value)||e.featureFlags&&!e.featureFlags.every(C=>C))return null;const D=(f=e.filter)!=null&&f.value?JSON.stringify(e.filter.value):"";return`metric-fetcher-${a.value}-${(p=e.dimensions)==null?void 0:p.join("-")}-${(w=e.metrics)==null?void 0:w.join("-")}-${D}`}),{response:n,error:s,isValidating:u}=re.useRequest(()=>i.value,()=>e.dataFetcher(t.value,r.value),{refreshInterval:e.refreshInterval,revalidateOnFocus:!1,errorRetryCount:Hn}),{state:d,swrvState:o}=$n(n,s,u),l=m(()=>{var c,f,p,w,D,C,ie,R,S,ee;return!((p=(f=(c=n.value)==null?void 0:c.data)==null?void 0:f.records)!=null&&p.length)||!((C=(D=(w=n.value)==null?void 0:w.data)==null?void 0:D.meta)!=null&&C.dimensions)||!((ee=(S=(R=(ie=n.value)==null?void 0:ie.data)==null?void 0:R.meta)==null?void 0:S.metricNames)!=null&&ee.length)?{current:{},previous:{}}:Pn(n.value.data,t.value,!!e.withTrend)});return{isLoading:m(()=>o.PENDING===d.value),hasError:m(()=>o.ERROR===d.value),raw:n,mapped:l}}const le=(e,t,r=K,a)=>(a??[K]).reduce((i,n)=>{const s=e[t][r];return s?i+(s[n]||0):i},0);function Vn(e){const{cardType:t,title:r,description:a,record:i,hasError:n,increaseIsBad:s,formatValueFn:u,trendRange:d}=e;return m(()=>{let o=0,l=0;if(i!=null&&i.value)try{o=le(i.value,"current",e.lookupKey,e.sumGroupedValues),l=le(i.value,"previous",e.lookupKey,e.sumGroupedValues)}catch(c){console.error("Metric card data doesn't have the expected structure:",c)}return{cardType:t,hasError:n.value,currentValue:o,previousValue:l,title:r.value,description:a,increaseIsBad:!!s,formatValueFn:u,trendRange:d==null?void 0:d.value}})}var qe=new WeakMap,tr=0;function qn(e){if(!e.length)return"";for(var t="arg",r=0;r<e.length;++r){var a=void 0;e[r]===null||typeof e[r]!="object"&&typeof e[r]!="function"?typeof e[r]=="string"?a='"'+e[r]+'"':a=String(e[r]):qe.has(e[r])?a=qe.get(e[r]):(a=tr,qe.set(e[r],tr++)),t+="@"+a}return t}function Gn(e){if(typeof e=="function")try{e=e()}catch{e=""}return Array.isArray(e)?e=qn(e):e=String(e||""),e}var Dt=function(){function e(t){t===void 0&&(t=0),this.items=new Map,this.ttl=t}return e.prototype.serializeKey=function(t){return Gn(t)},e.prototype.get=function(t){var r=this.serializeKey(t);return this.items.get(r)},e.prototype.set=function(t,r,a){var i=this.serializeKey(t),n=a||this.ttl,s=Date.now(),u={data:r,createdAt:s,expiresAt:n?s+n:1/0};this.dispatchExpire(n,u,i),this.items.set(i,u)},e.prototype.dispatchExpire=function(t,r,a){var i=this;t&&setTimeout(function(){var n=Date.now(),s=n>=r.expiresAt;s&&i.delete(a)},t)},e.prototype.delete=function(t){this.items.delete(t)},e}();function Zn(){return typeof navigator.onLine<"u"?navigator.onLine:!0}function jn(){return typeof document<"u"&&typeof document.visibilityState<"u"?document.visibilityState!=="hidden":!0}var Wn=function(e){return fetch(e).then(function(t){return t.json()})};const Ge={isOnline:Zn,isDocumentVisible:jn,fetcher:Wn};var j=globalThis&&globalThis.__assign||function(){return j=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},j.apply(this,arguments)},se=globalThis&&globalThis.__awaiter||function(e,t,r,a){function i(n){return n instanceof r?n:new r(function(s){s(n)})}return new(r||(r=Promise))(function(n,s){function u(l){try{o(a.next(l))}catch(c){s(c)}}function d(l){try{o(a.throw(l))}catch(c){s(c)}}function o(l){l.done?n(l.value):i(l.value).then(u,d)}o((a=a.apply(e,t||[])).next())})},oe=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,i,n,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(o){return function(l){return d([o,l])}}function d(o){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,i&&(n=o[0]&2?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[o[0]&2,n.value]),o[0]){case 0:case 1:n=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!n||o[1]>n[0]&&o[1]<n[3])){r.label=o[1];break}if(o[0]===6&&r.label<n[1]){r.label=n[1],n=o;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(o);break}n[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(l){o=[6,l],i=0}finally{a=n=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Bn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),i,n=[],s;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)n.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(s)throw s.error}}return n},Kn=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var a=0,i=t.length,n;a<i;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},Nr=new Dt,Ce=new Dt,Ze=new Dt,Sr={cache:Nr,refreshInterval:0,ttl:0,serverTTL:1e3,dedupingInterval:2e3,revalidateOnFocus:!0,revalidateDebounce:0,shouldRetryOnError:!0,errorRetryInterval:5e3,errorRetryCount:5,fetcher:Ge.fetcher,isOnline:Ge.isOnline,isDocumentVisible:Ge.isDocumentVisible};function Qn(e,t,r){var a=Ce.get(e);if(a)a.data.push(t);else{var i=5e3;Ce.set(e,[t],r>0?r+i:r)}}function Xn(e,t,r){if(r.isDocumentVisible()&&!(r.errorRetryCount!==void 0&&t>r.errorRetryCount)){var a=Math.min(t||0,r.errorRetryCount),i=a*r.errorRetryInterval;setTimeout(function(){e(null,{errorRetryCount:a+1,shouldRetryOnError:!0})},i)}}var rr=function(e,t,r,a){return r===void 0&&(r=Nr),a===void 0&&(a=Sr.ttl),se(void 0,void 0,void 0,function(){var i,n,s,u,d,o,l;return oe(this,function(c){switch(c.label){case 0:if(!ei(t))return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,t];case 2:return i=c.sent(),[3,4];case 3:return u=c.sent(),n=u,[3,4];case 4:return[3,6];case 5:i=t,c.label=6;case 6:if(s=!1,d={data:i,error:n,isValidating:s},typeof i<"u")try{r.set(e,d,a)}catch(f){console.error("swrv(mutate): failed to set cache",f)}return o=Ce.get(e),o&&o.data.length&&(l=o.data.filter(function(f){return f.key===e}),l.forEach(function(f,p){typeof d.data<"u"&&(f.data=d.data),f.error=d.error,f.isValidating=d.isValidating;var w=p===l.length-1;w||delete l[p]}),l=l.filter(Boolean)),[2,d]}})})};function Jn(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a,i,n=j({},Sr),s=!1,u=!1,d=Pr(),o=(d==null?void 0:d.proxy)||d;if(!o)return console.error("Could not get current instance, check to make sure that `useSwrv` is declared in the top level of the setup function."),null;var l=(o==null?void 0:o.$isServer)||!1;t.length>=1&&(a=t[0]),t.length>=2&&(i=t[1]),t.length>2&&(n=j(j({},n),t[2]));var c=l?n.serverTTL:n.ttl,f=typeof a=="function"?a:De(a);typeof i>"u"&&(i=n.fetcher);var p=null;p||(p=Yr({data:void 0,error:void 0,isValidating:!0,key:null}));var w=function(R,S){return se(e,void 0,void 0,function(){var ee,U,ge,ve,Ie,Et,Me,Rt=this;return oe(this,function(xe){switch(xe.label){case 0:return ee=p.data===void 0,U=f.value,U?(ge=n.cache.get(U),ve=ge&&ge.data,p.isValidating=!0,ve&&(p.data=ve.data,p.error=ve.error),Ie=R||i,!Ie||!n.isDocumentVisible()&&!ee||(S==null?void 0:S.forceRevalidate)!==void 0&&!(S!=null&&S.forceRevalidate)?(p.isValidating=!1,[2]):ge&&(Et=!!(Date.now()-ge.createdAt>=n.dedupingInterval||S!=null&&S.forceRevalidate),!Et)?(p.isValidating=!1,[2]):(Me=function(){return se(Rt,void 0,void 0,function(){var te,Ct,Oe,_t;return oe(this,function(we){switch(we.label){case 0:return te=Ze.get(U),te?[3,2]:(Ct=Array.isArray(U)?U:[U],Oe=Ie.apply(void 0,Kn([],Bn(Ct),!1)),Ze.set(U,Oe,n.dedupingInterval),[4,rr(U,Oe,n.cache,c)]);case 1:return we.sent(),[3,4];case 2:return[4,rr(U,te.data,n.cache,c)];case 3:we.sent(),we.label=4;case 4:return p.isValidating=!1,Ze.delete(U),p.error!==void 0&&(_t=!s&&n.shouldRetryOnError&&(S?S.shouldRetryOnError:!0),_t&&Xn(w,S?S.errorRetryCount:1,n)),[2]}})})},ve&&n.revalidateDebounce?(setTimeout(function(){return se(Rt,void 0,void 0,function(){return oe(this,function(te){switch(te.label){case 0:return s?[3,2]:[4,Me()];case 1:te.sent(),te.label=2;case 2:return[2]}})})},n.revalidateDebounce),[3,3]):[3,1])):[2];case 1:return[4,Me()];case 2:xe.sent(),xe.label=3;case 3:return[2]}})})},D=function(){return se(e,void 0,void 0,function(){return oe(this,function(R){return[2,w(null,{shouldRetryOnError:!1})]})})},C=null;kr(function(){var R=function(){return se(e,void 0,void 0,function(){return oe(this,function(S){switch(S.label){case 0:return!p.error&&n.isOnline()?[4,w()]:[3,2];case 1:return S.sent(),[3,3];case 2:C&&clearTimeout(C),S.label=3;case 3:return n.refreshInterval&&!s&&(C=setTimeout(R,n.refreshInterval)),[2]}})})};n.refreshInterval&&(C=setTimeout(R,n.refreshInterval)),n.revalidateOnFocus&&(document.addEventListener("visibilitychange",D,!1),window.addEventListener("focus",D,!1))}),Ur(function(){s=!0,C&&clearTimeout(C),n.revalidateOnFocus&&(document.removeEventListener("visibilitychange",D,!1),window.removeEventListener("focus",D,!1));var R=Ce.get(f.value);R&&(R.data=R.data.filter(function(S){return S!==p}))});try{zr(f,function(R){Hr(f)||(f.value=R),p.key=R,p.isValidating=!!R,Qn(f.value,p,c),!l&&!u&&f.value&&w(),u=!1},{immediate:!0})}catch{}var ie=j(j({},$r(p)),{mutate:function(R,S){return w(R,j(j({},S),{forceRevalidate:!0}))}});return ie}function ei(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}function ti(e,t,r){const{data:a,error:i,isValidating:n,mutate:s}=Jn(e,t,{revalidateDebounce:500,revalidateOnFocus:!1,dedupingInterval:100,...r});return{data:m(()=>{var u;return(u=a.value)==null?void 0:u.data}),response:a,error:i,isValidating:n,revalidate:s}}const re={useI18n:Un,useMetricCardBuilder:Vn,useMetricFetcher:Fn,useRequest:ti},Er=Symbol("METRICS_PROVIDER_KEY"),ri=e=>{const{dimension:t,dimensionFilterValue:r,additionalFilter:a,queryReady:i,timeframe:n,hasTrendAccess:s,refreshInterval:u,dataFetcher:d}=e;if(r&&!t)throw new Error("Must provide a dimension if filtering by a value");const o=!!(t&&r),l=!!(t&&!r),c=m(()=>{const C=[];return o&&C.push({dimension:t,type:Tr.IN,values:[r]}),a.value&&C.push(...a.value),C}),f={metrics:[pt.REQUEST_COUNT],dimensions:[...t&&!o?[t]:[],ye.STATUS_CODE_GROUPED],filter:c,queryReady:i,timeframe:n,withTrend:s&&!l,refreshInterval:u,dataFetcher:d},p={metrics:[pt.RESPONSE_LATENCY_P99],...t&&!o?{dimensions:[t]}:{},filter:c,queryReady:i,timeframe:n,withTrend:s&&!l,refreshInterval:u,dataFetcher:d},w=re.useMetricFetcher(f),D=re.useMetricFetcher(p);return{trafficData:w,latencyData:D}},ai=A({__name:"MetricsProviderInternal",props:{maxTimeframe:{default:T.THIRTY_DAY},overrideTimeframe:{default:void 0},dimension:{default:void 0},filterValue:{default:void 0},additionalFilter:{default:void 0},queryReady:{type:Boolean,default:!0},dataFetcher:{},hasTrendAccess:{type:Boolean},refreshInterval:{},longCardTitles:{type:Boolean,default:!1},description:{default:void 0}},setup(e){const t=e,{i18n:r}=re.useI18n();if(t.dimension&&!{}.hasOwnProperty.call(ye,t.dimension))throw new Error(`Attempted to use MetricsProvider with an invalid dimension: ${t.dimension}`);const a=m(()=>{if(t.overrideTimeframe)return t.overrideTimeframe;const u=t.hasTrendAccess?Pe.get(t.maxTimeframe):Pe.get(T.ONE_DAY);if(!u)throw new Error("Metrics provider failed to resolve fallback timeframe.");return u}),i=m(()=>{var u;return a.value.key==="custom"?r.t("trendRange.custom",{numDays:Math.ceil(a.value.timeframeLength()/(1e3*60*24))}):t.hasTrendAccess?r.t(`trendRange.${a.value.key}`):r.t(`trendRange.${(u=Pe.get(T.ONE_DAY))==null?void 0:u.key}`)}),{trafficData:n,latencyData:s}=ri({dimension:t.dimension,dimensionFilterValue:t.filterValue,additionalFilter:bt(t,"additionalFilter"),queryReady:bt(t,"queryReady"),timeframe:a,hasTrendAccess:t.hasTrendAccess,refreshInterval:t.refreshInterval,dataFetcher:t.dataFetcher});return Lr(Er,{data:{traffic:n,latency:s},description:t.description,hasTrendAccess:t.hasTrendAccess,longCardTitles:t.longCardTitles,trendRange:i}),(u,d)=>he(u.$slots,"default",{hasTrendAccess:t.hasTrendAccess,timeframe:a.value})}});function ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rr={exports:{}};(function(e){(function(){function t(o,l){if(l.separator===!1||o<1e3)return o.toString();var c=typeof l.separator=="string"?l.separator:",",f=[],p=Math.round(o).toString().split("");return p.reverse().forEach(function(w,D){D&&D%3===0&&f.push(c),f.push(w)}),f.reverse().join("")}function r(o,l,c){var f=o/l,p=c.round?"round":"floor";return c.decimal===!1?(o=Math[p](f),o.toString()):(c.precision?o=f:o=f<10?Math[p](f*10)/10:Math[p](f),o=o.toString(),typeof c.decimal=="string"&&(o=o.replace(".",c.decimal)),o)}var a=1e3,i=1e4,n=1e6,s=1e9,u=1e12;function d(o,l){var c;l=l||{};var f=o<0;f&&(o=Math.abs(o)),l.precision&&(o=parseFloat(o.toPrecision(l.precision)));var p=l.min10k?i:a;return o<p||l.precision&&l.precision>Math.log10(o)?c=t(r(o,1,l),l):o<n?c=r(o,a,l)+"k":o<s?c=r(o,n,l)+"m":o<u?c=t(r(o,s,l),l)+"b":c=t(r(o,u,l),l)+"t",f&&(c="-"+c),l.capital&&(c=c.toUpperCase()),l.prefix&&(c=l.prefix+c),l.suffix&&(c=c+l.suffix),c}d.addCommas=t,e.exports=d})()})(Rr);var ii=Rr.exports;const si=ni(ii);var $=(e=>(e.Small="sm",e.Medium="md",e.Large="lg",e.LargeCompact="lgc",e.ExtraLarge="xl",e))($||{});const _="24px",J=(e,t)=>{const r=e.__vccOpts||e;for(const[a,i]of t)r[a]=i;return r},oi=e=>(Q("data-v-f2dbb1b9"),e=e(),X(),e),ui=["aria-hidden"],li={key:0,"data-testid":"kui-icon-svg-title"},di=oi(()=>b("path",{d:"M6.5 20C4.98333 20 3.6875 19.475 2.6125 18.425C1.5375 17.375 1 16.0917 1 14.575C1 13.275 1.39167 12.1167 2.175 11.1C2.95833 10.0833 3.98333 9.43333 5.25 9.15C5.66667 7.61667 6.5 6.375 7.75 5.425C9 4.475 10.4167 4 12 4C13.95 4 15.6042 4.67917 16.9625 6.0375C18.3208 7.39583 19 9.05 19 11C20.15 11.1333 21.1042 11.6292 21.8625 12.4875C22.6208 13.3458 23 14.35 23 15.5C23 16.75 22.5625 17.8125 21.6875 18.6875C20.8125 19.5625 19.75 20 18.5 20H13C12.45 20 11.9792 19.8042 11.5875 19.4125C11.1958 19.0208 11 18.55 11 18V12.85L9.4 14.4L8 13L12 9L16 13L14.6 14.4L13 12.85V18H18.5C19.2 18 19.7917 17.7583 20.275 17.275C20.7583 16.7917 21 16.2 21 15.5C21 14.8 20.7583 14.2083 20.275 13.725C19.7917 13.2417 19.2 13 18.5 13H17V11C17 9.61667 16.5125 8.4375 15.5375 7.4625C14.5625 6.4875 13.3833 6 12 6C10.6167 6 9.4375 6.4875 8.4625 7.4625C7.4875 8.4375 7 9.61667 7 11H6.5C5.53333 11 4.70833 11.3417 4.025 12.025C3.34167 12.7083 3 13.5333 3 14.5C3 15.4667 3.34167 16.2917 4.025 16.975C4.70833 17.6583 5.53333 18 6.5 18H9V20H6.5Z",fill:"currentColor"},null,-1)),ci=A({__name:"CloudUploadIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:_,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=m(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return _}),a=m(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(g(),L(G(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon cloud-upload-icon","data-testid":"kui-icon-wrapper-cloud-upload-icon",style:B(a.value)},{default:Z(()=>[(g(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-cloud-upload-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(g(),y("title",li,I(e.title),1)):M("",!0),di],8,ui))]),_:1},8,["aria-hidden","style"]))}}),fi=J(ci,[["__scopeId","data-v-f2dbb1b9"]]),pi=e=>(Q("data-v-04327805"),e=e(),X(),e),mi=["aria-hidden"],gi={key:0,"data-testid":"kui-icon-svg-title"},vi=pi(()=>b("path",{d:"M4 17V14H20V17H4ZM4 10V7H20V10H4Z",fill:"currentColor"},null,-1)),hi=A({__name:"EqualIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:_,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=m(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return _}),a=m(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(g(),L(G(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon equal-icon","data-testid":"kui-icon-wrapper-equal-icon",style:B(a.value)},{default:Z(()=>[(g(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-equal-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(g(),y("title",gi,I(e.title),1)):M("",!0),vi],8,mi))]),_:1},8,["aria-hidden","style"]))}}),yi=J(hi,[["__scopeId","data-v-04327805"]]),wi=e=>(Q("data-v-951e2d7d"),e=e(),X(),e),Ti=["aria-hidden"],Di={key:0,"data-testid":"kui-icon-svg-title"},Ni=wi(()=>b("path",{d:"M5 11V9H15V11H5Z",fill:"currentColor"},null,-1)),Si=A({__name:"IndeterminateSmallIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:_,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=m(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return _}),a=m(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(g(),L(G(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon indeterminate-small-icon","data-testid":"kui-icon-wrapper-indeterminate-small-icon",style:B(a.value)},{default:Z(()=>[(g(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-indeterminate-small-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(g(),y("title",Di,I(e.title),1)):M("",!0),Ni],8,Ti))]),_:1},8,["aria-hidden","style"]))}}),Cr=J(Si,[["__scopeId","data-v-951e2d7d"]]),Ei=e=>(Q("data-v-6754ff4c"),e=e(),X(),e),Ri=["aria-hidden"],Ci={key:0,"data-testid":"kui-icon-svg-title"},_i=Ei(()=>b("path",{d:"M15.25 5C14.9 5 14.6042 4.87917 14.3625 4.6375C14.1208 4.39583 14 4.1 14 3.75C14 3.4 14.1208 3.10417 14.3625 2.8625C14.6042 2.62083 14.9 2.5 15.25 2.5C15.6 2.5 15.8958 2.62083 16.1375 2.8625C16.3792 3.10417 16.5 3.4 16.5 3.75C16.5 4.1 16.3792 4.39583 16.1375 4.6375C15.8958 4.87917 15.6 5 15.25 5ZM15.25 21.5C14.9 21.5 14.6042 21.3792 14.3625 21.1375C14.1208 20.8958 14 20.6 14 20.25C14 19.9 14.1208 19.6042 14.3625 19.3625C14.6042 19.1208 14.9 19 15.25 19C15.6 19 15.8958 19.1208 16.1375 19.3625C16.3792 19.6042 16.5 19.9 16.5 20.25C16.5 20.6 16.3792 20.8958 16.1375 21.1375C15.8958 21.3792 15.6 21.5 15.25 21.5ZM19.25 8.5C18.9 8.5 18.6042 8.37917 18.3625 8.1375C18.1208 7.89583 18 7.6 18 7.25C18 6.9 18.1208 6.60417 18.3625 6.3625C18.6042 6.12083 18.9 6 19.25 6C19.6 6 19.8958 6.12083 20.1375 6.3625C20.3792 6.60417 20.5 6.9 20.5 7.25C20.5 7.6 20.3792 7.89583 20.1375 8.1375C19.8958 8.37917 19.6 8.5 19.25 8.5ZM19.25 18C18.9 18 18.6042 17.8792 18.3625 17.6375C18.1208 17.3958 18 17.1 18 16.75C18 16.4 18.1208 16.1042 18.3625 15.8625C18.6042 15.6208 18.9 15.5 19.25 15.5C19.6 15.5 19.8958 15.6208 20.1375 15.8625C20.3792 16.1042 20.5 16.4 20.5 16.75C20.5 17.1 20.3792 17.3958 20.1375 17.6375C19.8958 17.8792 19.6 18 19.25 18ZM20.75 13.25C20.4 13.25 20.1042 13.1292 19.8625 12.8875C19.6208 12.6458 19.5 12.35 19.5 12C19.5 11.65 19.6208 11.3542 19.8625 11.1125C20.1042 10.8708 20.4 10.75 20.75 10.75C21.1 10.75 21.3958 10.8708 21.6375 11.1125C21.8792 11.3542 22 11.65 22 12C22 12.35 21.8792 12.6458 21.6375 12.8875C21.3958 13.1292 21.1 13.25 20.75 13.25ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2V4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20V22ZM12 14C11.45 14 10.9792 13.8042 10.5875 13.4125C10.1958 13.0208 10 12.55 10 12C10 11.9167 10.0042 11.8292 10.0125 11.7375C10.0208 11.6458 10.0417 11.5583 10.075 11.475L8 9.4L9.4 8L11.475 10.075C11.5417 10.0583 11.7167 10.0333 12 10C12.55 10 13.0208 10.1958 13.4125 10.5875C13.8042 10.9792 14 11.45 14 12C14 12.55 13.8042 13.0208 13.4125 13.4125C13.0208 13.8042 12.55 14 12 14Z",fill:"currentColor"},null,-1)),bi=A({__name:"ResponseIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:_,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=m(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return _}),a=m(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(g(),L(G(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon response-icon","data-testid":"kui-icon-wrapper-response-icon",style:B(a.value)},{default:Z(()=>[(g(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-response-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(g(),y("title",Ci,I(e.title),1)):M("",!0),_i],8,Ri))]),_:1},8,["aria-hidden","style"]))}}),Ii=J(bi,[["__scopeId","data-v-6754ff4c"]]),Mi=e=>(Q("data-v-2ee83e7f"),e=e(),X(),e),xi=["aria-hidden"],Oi={key:0,"data-testid":"kui-icon-svg-title"},Li=Mi(()=>b("path",{d:"M16 18V16H18.6L13.4 10.85L9.4 14.85L2 7.4L3.4 6L9.4 12L13.4 8L20 14.6V12H22V18H16Z",fill:"currentColor"},null,-1)),Ai=A({__name:"TrendDownIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:_,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=m(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return _}),a=m(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(g(),L(G(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon trend-down-icon","data-testid":"kui-icon-wrapper-trend-down-icon",style:B(a.value)},{default:Z(()=>[(g(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-trend-down-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(g(),y("title",Oi,I(e.title),1)):M("",!0),Li],8,xi))]),_:1},8,["aria-hidden","style"]))}}),Yi=J(Ai,[["__scopeId","data-v-2ee83e7f"]]),ki=e=>(Q("data-v-fc79d138"),e=e(),X(),e),Ui=["aria-hidden"],Hi={key:0,"data-testid":"kui-icon-svg-title"},zi=ki(()=>b("path",{d:"M3.4 18L2 16.6L9.4 9.15L13.4 13.15L18.6 8H16V6H22V12H20V9.4L13.4 16L9.4 12L3.4 18Z",fill:"currentColor"},null,-1)),$i=A({__name:"TrendUpIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:_,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=m(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return _}),a=m(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(g(),L(G(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon trend-up-icon","data-testid":"kui-icon-wrapper-trend-up-icon",style:B(a.value)},{default:Z(()=>[(g(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-trend-up-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(g(),y("title",Hi,I(e.title),1)):M("",!0),zi],8,Ui))]),_:1},8,["aria-hidden","style"]))}}),Pi=J($i,[["__scopeId","data-v-fc79d138"]]),Fi=e=>(Q("data-v-87798997"),e=e(),X(),e),Vi=["aria-hidden"],qi={key:0,"data-testid":"kui-icon-svg-title"},Gi=Fi(()=>b("path",{d:"M9 20C8.68333 20 8.4 19.9083 8.15 19.725C7.9 19.5417 7.71667 19.3083 7.6 19.025L5.3 13H1V11H6.7L9 17.1L13.6 4.975C13.7167 4.69167 13.9 4.45833 14.15 4.275C14.4 4.09167 14.6833 4 15 4C15.3167 4 15.6 4.09167 15.85 4.275C16.1 4.45833 16.2833 4.69167 16.4 4.975L18.7 11H23V13H17.3L15 6.9L10.4 19.025C10.2833 19.3083 10.1 19.5417 9.85 19.725C9.6 19.9083 9.31667 20 9 20Z",fill:"currentColor"},null,-1)),Zi=A({__name:"VitalsIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:_,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=m(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return _}),a=m(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(g(),L(G(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon vitals-icon","data-testid":"kui-icon-wrapper-vitals-icon",style:B(a.value)},{default:Z(()=>[(g(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-vitals-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(g(),y("title",qi,I(e.title),1)):M("",!0),Gi],8,Vi))]),_:1},8,["aria-hidden","style"]))}}),ji=J(Zi,[["__scopeId","data-v-87798997"]]),Wi=e=>(Q("data-v-81510183"),e=e(),X(),e),Bi=["aria-hidden"],Ki={key:0,"data-testid":"kui-icon-svg-title"},Qi=Wi(()=>b("path",{d:"M12.0001 22.025C11.7334 22.025 11.4793 21.975 11.2376 21.875C10.9959 21.775 10.7751 21.6333 10.5751 21.45L2.5501 13.425C2.36676 13.225 2.2251 13.0041 2.1251 12.7625C2.0251 12.5208 1.9751 12.2666 1.9751 12C1.9751 11.7333 2.0251 11.475 2.1251 11.225C2.2251 10.975 2.36676 10.7583 2.5501 10.575L10.5751 2.54998C10.7751 2.34998 10.9959 2.20414 11.2376 2.11248C11.4793 2.02081 11.7334 1.97498 12.0001 1.97498C12.2668 1.97498 12.5251 2.02081 12.7751 2.11248C13.0251 2.20414 13.2418 2.34998 13.4251 2.54998L21.4501 10.575C21.6501 10.7583 21.7959 10.975 21.8876 11.225C21.9793 11.475 22.0251 11.7333 22.0251 12C22.0251 12.2666 21.9793 12.5208 21.8876 12.7625C21.7959 13.0041 21.6501 13.225 21.4501 13.425L13.4251 21.45C13.2418 21.6333 13.0251 21.775 12.7751 21.875C12.5251 21.975 12.2668 22.025 12.0001 22.025ZM12.0001 20.025L20.0251 12L12.0001 3.97498L3.9751 12L12.0001 20.025ZM11.0001 13H13.0001V6.99998H11.0001V13ZM12.0001 16C12.2834 16 12.5209 15.9041 12.7126 15.7125C12.9043 15.5208 13.0001 15.2833 13.0001 15C13.0001 14.7166 12.9043 14.4791 12.7126 14.2875C12.5209 14.0958 12.2834 14 12.0001 14C11.7168 14 11.4793 14.0958 11.2876 14.2875C11.0959 14.4791 11.0001 14.7166 11.0001 15C11.0001 15.2833 11.0959 15.5208 11.2876 15.7125C11.4793 15.9041 11.7168 16 12.0001 16Z",fill:"currentColor"},null,-1)),Xi=A({__name:"WarningOutlineIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:_,validator:e=>{if(typeof e=="number"&&e>0)return!0;if(typeof e=="string"){const t=String(e).replace(/px/gi,""),r=Number(t);if(r&&!isNaN(r)&&Number.isInteger(r)&&r>0)return!0}return!1}},as:{type:String,required:!1,default:"span"}},setup(e){const t=e,r=m(()=>{if(typeof t.size=="number"&&t.size>0)return`${t.size}px`;if(typeof t.size=="string"){const i=String(t.size).replace(/px/gi,""),n=Number(i);if(n&&!isNaN(n)&&Number.isInteger(n)&&n>0)return`${n}px`}return _}),a=m(()=>({boxSizing:"border-box",color:t.color,display:t.display,height:r.value,lineHeight:"0",width:r.value}));return(i,n)=>(g(),L(G(e.as),{"aria-hidden":e.decorative?"true":void 0,class:"kui-icon warning-outline-icon","data-testid":"kui-icon-wrapper-warning-outline-icon",style:B(a.value)},{default:Z(()=>[(g(),y("svg",{"aria-hidden":e.decorative?"true":void 0,"data-testid":"kui-icon-svg-warning-outline-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[e.title?(g(),y("title",Ki,I(e.title),1)):M("",!0),Qi],8,Bi))]),_:1},8,["aria-hidden","style"]))}}),Ji=J(Xi,[["__scopeId","data-v-81510183"]]),Nt=2,ar=Nt+2,es=(e,t,r=!1)=>{let a=!t||Number(e.toFixed(ar))===0?0:Number(e.toFixed(ar))>0?1:-1;return r&&(a*=-1),a},ts=(e,t,r)=>t?`${Math.abs(e*100).toFixed(Nt)}%`:r,rs=(e,t)=>t===0?0:e/t-1,as=(e,t=!1)=>(t&&(e*=-1),e>0?Pi:e<0?Yi:Cr),ns="#ad000e",is="#6c7489",nr="#52596e",ss="#007d60",je="16px",os="14px",us="48px";var W=(e=>(e.GENERIC_COUNT="GenericCount",e.TRAFFIC="Traffic",e.ERROR_RATE="ErrorRate",e.LATENCY="Latency",e))(W||{});const ls={class:"metricscard"},ds={key:0,class:"metricscard-description"},cs={key:0,class:"metricscard-error"},fs={key:2,class:"metricscard-trend"},ps={"data-testid":"metric-trend-change"},ms={key:0,class:"metricscard-trend-range"},gs=A({__name:"MetricsCard",props:{cardType:{type:String,required:!0,default:W.GENERIC_COUNT},title:{type:String,default:"0%",required:!0},description:{type:String,default:"",required:!1},tooltip:{type:String,required:!1,default:""},timeframe:{type:String,required:!1,default:""},metricValue:{type:String,default:""},metricChange:{type:String,required:!0},changePolarity:{type:Number,required:!0},trendIcon:{type:Object,default:Cr},trendRange:{type:String,default:""},hasError:{type:Boolean,default:!1},errorMessage:{type:String,default:"Vitals data error"},cardSize:{type:String,required:!1,default:()=>"lg"}},setup(e){const t=e,r=new Map([[W.GENERIC_COUNT,ji],[W.TRAFFIC,fi],[W.ERROR_RATE,Ji],[W.LATENCY,Ii]]),a=o=>{const l={red:`var(--kong-ui-metric-card-trend-negative, ${ns})`,green:`var(--kong-ui-metric-card-trend-positive, ${ss})`,grey:`var(--kong-ui-metric-card-trend-neutral, ${nr})`};return o>0?l.green:o<0?l.red:l.grey},i=o=>o>0?"positive":o<0?"negative":"neutral",n=[$.Medium,$.Large,$.LargeCompact].includes(t.cardSize),s=t.cardSize===$.ExtraLarge?us:n?"22px":os,u=m(()=>t.cardSize===$.LargeCompact),d=[$.Small,$.LargeCompact].includes(t.cardSize);return(o,l)=>{const c=Te("KIcon"),f=Te("KTooltip");return g(),y("div",ls,[b("div",{class:ue(["metricscard-title",e.cardSize])},[E(d)?M("",!0):(g(),L(G(E(r).get(e.cardType)),{key:0,class:"metricscard-icon",color:E(is),size:E(je)},null,8,["color","size"])),b("span",null,I(e.title),1),e.tooltip?(g(),L(f,{key:1,class:"metricscard-tooltip",label:e.tooltip,placement:"right"},{default:Z(()=>[fe(c,{icon:"info",size:"12"})]),_:1},8,["label"])):M("",!0)],2),e.description&&E(n)&&!u.value?(g(),y("div",ds,[b("span",null,I(e.description),1)])):M("",!0),b("div",{class:ue(["metricscard-valuetrend",{"is-compact":u.value}])},[e.hasError?(g(),y("div",cs,[fe(c,{icon:"warning",size:"20"}),b("div",null,I(e.errorMessage),1)])):(g(),y("div",{key:1,class:ue(["metricscard-value",e.cardSize]),"data-testid":"metric-value",style:B(`font-size:${E(s)}`)},I(e.metricValue),7)),E(n)?(g(),y("div",fs,[b("div",{class:ue(["metricscard-trend-change",i(e.changePolarity)]),"data-testid":"metric-trend-parent"},[e.changePolarity!==0?(g(),L(G(e.trendIcon),{key:0,color:a(e.changePolarity),size:E(je)},null,8,["color","size"])):(g(),L(E(yi),{key:1,color:E(nr),size:E(je)},null,8,["color","size"])),b("div",ps,I(e.metricChange),1)],2),e.trendRange&&e.cardSize!==E($).LargeCompact?(g(),y("div",ms,I(e.trendRange),1)):M("",!0)])):M("",!0)],2)])}}}),St=(e,t)=>{const r=e.__vccOpts||e;for(const[a,i]of t)r[a]=i;return r},vs=St(gs,[["__scopeId","data-v-e3b3a4cb"]]),hs={},ys={class:"loading-tabs"};function ws(e,t){const r=Te("KSkeletonBox");return g(),y("div",ys,[fe(r,{width:"100"}),fe(r,{width:"75"})])}const Ts=St(hs,[["render",ws],["__scopeId","data-v-f7eb9c40"]]),Ds={key:0,class:"error-display"},Ns={key:0,class:"error-display-message"},Ss=A({__name:"MetricCardContainer",props:{fallbackDisplayText:{type:String,required:!0},cards:{type:Array,required:!0},errorMessage:{type:String,required:!1,default:""},loading:{type:Boolean,required:!1,default:!1},hasTrendAccess:{type:Boolean,required:!1,default:!0},cardSize:{type:String,required:!1,default:()=>$.Large}},setup(e){const t=e,r=m(()=>t.cards.every(i=>(i==null?void 0:i.hasError)===!0)),a=i=>{const n=rs(i.currentValue,i.previousValue)||0,s=es(n,t.hasTrendAccess,i.increaseIsBad);return{metricValue:i.formatValueFn?i.formatValueFn(i.currentValue):si(i.currentValue,{capital:!0,round:!0})||"0",metricChange:i.formatChangeFn?i.formatChangeFn(n):ts(n,t.hasTrendAccess,t.fallbackDisplayText),changePolarity:s,trendIcon:as(s,i.increaseIsBad),cardSize:t.cardSize}};return(i,n)=>{const s=Te("KIcon");return g(),y("div",{class:ue(["kong-ui-public-metric-card-container",e.cardSize])},[r.value?(g(),y("div",Ds,[fe(s,{class:"error-display-icon",icon:"warning",size:"24"}),e.errorMessage?(g(),y("div",Ns,I(e.errorMessage),1)):M("",!0)])):(g(!0),y(It,{key:1},Fr(e.cards,(u,d)=>(g(),y(It,null,[e.loading?(g(),L(Ts,{key:`skeleton-${d}`,class:ue(e.cardSize===E($).Small?"loading-tabs-small":"loading-tabs-large")},null,8,["class"])):(g(),L(vs,Vr({key:d},a(u),{"card-size":e.cardSize,"card-type":u.cardType,description:u.description,"error-message":e.errorMessage,"has-error":u.hasError,title:u.title,tooltip:u.tooltip,"trend-range":u.trendRange}),null,16,["card-size","card-type","description","error-message","has-error","title","tooltip","trend-range"]))],64))),256))],2)}}}),Es=St(Ss,[["__scopeId","data-v-7c516677"]]),$s=A({__name:"MetricsConsumer",props:{lookupKey:{default:void 0},cardSize:{default:$.Large},cardToDisplay:{default:void 0}},setup(e){const t=e,r=sr(Er);if(!r)throw new Error("MetricsConsumer must be nested inside a MetricsProvider instance.");const{traffic:a,latency:i}=r.data,{i18n:n}=re.useI18n(),s=re.useMetricCardBuilder({cardType:W.TRAFFIC,title:m(()=>r.longCardTitles?n.t("metricCard.long.traffic"):n.t("metricCard.short.traffic")),description:r.description,record:a.mapped,hasError:a.hasError,lookupKey:t.lookupKey,sumGroupedValues:Fe,trendRange:r.trendRange}),u=D=>`${D.toFixed(Nt)}%`,d=m(()=>{const D=a.mapped.value,C=le(D,"current",t.lookupKey,Jt),ie=le(D,"current",t.lookupKey,Fe),R=C/ie*100||0,S=le(D,"previous",t.lookupKey,Jt),ee=le(D,"previous",t.lookupKey,Fe),U=S/ee*100||0;return{cardType:W.ERROR_RATE,hasError:a.hasError.value,currentValue:R,previousValue:U,formatValueFn:u,title:r.longCardTitles?n.t("metricCard.long.errorRate"):n.t("metricCard.short.errorRate"),description:r.description,increaseIsBad:!0,trendRange:r.trendRange.value}}),o=D=>`${D}ms`,l=re.useMetricCardBuilder({cardType:W.LATENCY,title:m(()=>r.longCardTitles?n.t("metricCard.long.latency"):n.t("metricCard.short.latency")),description:r.description,hasError:i.hasError,record:i.mapped,lookupKey:t.lookupKey,increaseIsBad:!0,formatValueFn:o,trendRange:r.trendRange}),c=m(()=>t.cardToDisplay==="TRAFFIC"?[s.value]:t.cardToDisplay==="ERROR_RATE"?[d.value]:t.cardToDisplay==="LATENCY"?[l.value]:[s.value,d.value,l.value]),f=m(()=>t.cardToDisplay==="TRAFFIC"||t.cardToDisplay==="ERROR_RATE"?a.isLoading.value:t.cardToDisplay==="LATENCY"?i.isLoading.value:a.isLoading.value||i.isLoading.value),p=m(()=>({cards:c.value,loading:f.value,hasTrendAccess:r.hasTrendAccess,fallbackDisplayText:n.t("general.notAvailable"),cardSize:t.cardSize,hideTitle:!0,trendRange:r.trendRange.value})),w=m(()=>({loading:p.value.loading,trafficCard:s.value,errorRateCard:d.value,latencyCard:l.value,errorRateFormatted:u(d.value.currentValue),latencyFormatted:o(l.value.currentValue)}));return(D,C)=>he(D.$slots,"default",{cardValues:w.value},()=>[fe(E(Es),We(Be(p.value)),null,16)])}}),mt=e=>typeof e!="object"||e===null?e:Array.isArray(e)?e.map(t=>mt(t)):Object.keys(e).reduce((t,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=r.replace(/_([a-z])/g,(i,n)=>n.toUpperCase());t[a]=mt(e[r])}return t},{}),Ps=A({__name:"MetricsProvider",props:{overrideTimeframe:{default:void 0},maxTimeframe:{default:N.THIRTY_DAY},dimension:{default:void 0},additionalFilter:{default:void 0},filterValue:{default:void 0},queryReady:{type:Boolean,default:void 0},longCardTitles:{type:Boolean,default:void 0}},setup(e){const t=e,{portalApiV2:r}=_r(),a=br(),{allowedTimePeriod:i}=ir(a),n=m(()=>i.value===Ir.NINETY_DAYS),s=async(d,o)=>{var c;const l={queryApplicationAnalytics:{...o,granularity_ms:o.granularityMs,start_ms:d.startMs(),end_ms:d.endMs()}};(c=l.queryApplicationAnalytics)==null||delete c.granularityMs;try{const f=await r.value.service.applicationAnalyticsApi.queryApplicationAnalytics(l);return f.data.meta=mt(f.data.meta),Promise.resolve(f)}catch(f){return Promise.reject(f)}},u=m(()=>({...t,dataFetcher:s,hasTrendAccess:n.value,refreshInterval:0}));return(d,o)=>(g(),L(E(ai),We(Be(u.value)),{default:Z(l=>[he(d.$slots,"default",We(Be(l)))]),_:3},16))}}),Rs=2592e6,Cs="analytics-query-provider",_s=Mr("analytics-config",()=>{const e=De(null),t=sr(Cs);t?t.configFn().then(u=>{e.value=u}).catch(u=>{console.warn("Error fetching analytics config"),console.warn(u)}):(console.warn("Analytics components require a query bridge supplied via provide / inject."),console.warn("Please ensure your application has a query bridge provided under the key 'analytics-query-provider', as described in"),console.warn("https://github.com/Kong/public-ui-components/blob/main/packages/analytics/dashboard-renderer/README.md#requirements"),e.value={analytics:null,requests:null});const r=m(()=>{var u,d;const o=(d=(u=e.value)==null?void 0:u.analytics)==null?void 0:d.retention_ms;return!!o&&o>=Rs}),a=m(()=>r.value?"30d":"24h"),i=m(()=>!e.value),n=m(()=>{var u;return!!((u=e.value)!=null&&u.analytics)}),s=m(()=>{var u,d;return!!((d=(u=e.value)==null?void 0:u.analytics)!=null&&d.percentiles)});return{analyticsConfig:e,longRetention:r,defaultQueryTimeForOrg:a,loading:i,analytics:n,percentiles:s}}),Fs=A({__name:"AnalyticsConfigCheck",props:{requireAnalytics:{type:Boolean},requirePercentiles:{type:Boolean}},setup(e){const t=e,r=_s(),{analytics:a,percentiles:i,loading:n}=ir(r),s=m(()=>(t.requireAnalytics?a.value:!0)&&(t.requirePercentiles?i.value:!0));return(u,d)=>!E(n)&&s.value?he(u.$slots,"default",{key:0,hasAnalytics:E(a),hasPercentiles:E(i)}):E(n)?M("",!0):he(u.$slots,"fallback",{key:1,hasAnalytics:E(a),hasPercentiles:E(i)})}});export{ka as B,Tr as D,ye as Q,$s as Y,Ps as _,Hs as i,Fs as k,Us as n,zs as o,xs as r,mt as s,N as v};
